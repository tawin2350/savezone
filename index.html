<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Save Zone - ‚ù§Ô∏è Our Love Story</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">üíï Save Zone</div>
            <div class="nav-menu">
                <button class="nav-btn active" data-section="home">
                    <i class="fas fa-home"></i>
                    <span>‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</span>
                </button>
                <button class="nav-btn" data-section="chat">
                    <i class="fas fa-comments"></i>
                    <span>‡πÅ‡∏ä‡∏ó</span>
                </button>
                <button class="nav-btn" data-section="feelings">
                    <i class="fas fa-heart"></i>
                    <span>‡∏£‡∏∞‡∏ö‡∏≤‡∏¢</span>
                </button>
                <button class="nav-btn" data-section="missing">
                    <i class="fas fa-paper-plane"></i>
                    <span>‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á</span>
                </button>
                <button class="nav-btn" data-section="notes">
                    <i class="fas fa-sticky-note"></i>
                    <span>‡πÇ‡∏ô‡πâ‡∏ï</span>
                </button>
                <button class="nav-btn" data-section="period">
                    <i class="fas fa-calendar-alt"></i>
                    <span>‡∏ï‡∏Å‡πÑ‡∏Ç‡πà</span>
                </button>
                <button class="nav-btn" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</span>
                </button>
            </div>
            <div class="user-info">
                <span id="currentUser"></span>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Home Section -->
    <section id="home" class="section active">
        <div class="container">
            <div class="anniversary-card">
                <div class="hearts-animation">
                    <span class="heart">‚ù§Ô∏è</span>
                    <span class="heart">üíï</span>
                    <span class="heart">üíñ</span>
                </div>
                <h1 class="main-title">Third & Yimmy</h1>
                <div class="anniversary-info">
                    <div class="date-box">
                        <i class="fas fa-calendar-heart"></i>
                        <h2>‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</h2>
                        <p class="anniversary-date">2 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568</p>
                    </div>
                    <div class="counter-box">
                        <h3>‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß</h3>
                        <div class="time-counter">
                            <div class="time-unit">
                                <span class="time-value" id="days">0</span>
                                <span class="time-label">‡∏ß‡∏±‡∏ô</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="hours">0</span>
                                <span class="time-label">‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="minutes">0</span>
                                <span class="time-label">‡∏ô‡∏≤‡∏ó‡∏µ</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="seconds">0</span>
                                <span class="time-label">‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</span>
                            </div>
                        </div>
                    </div>
                    <div class="monthly-anniversary">
                        <h3>‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</h3>
                        <p class="next-anniversary" id="nextAnniversary"></p>
                        <p class="countdown-text" id="countdownText"></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Chat Section -->
    <section id="chat" class="section">
        <div class="container">
            <div class="chat-container">
                <div class="chat-header">
                    <h2><i class="fas fa-comments"></i> ‡πÅ‡∏ä‡∏ó‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô</h2>
                </div>
                <div class="chat-messages" id="chatMessages"></div>
                <div class="chat-input-container">
                    <input type="text" id="chatInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°..." class="chat-input">
                    <button onclick="sendMessage()" class="send-btn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Feelings Section -->
    <section id="feelings" class="section">
        <div class="container">
            <div class="feelings-container">
                <div class="section-header">
                    <h2><i class="fas fa-heart"></i> ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏≤‡∏¢</h2>
                </div>
                <div class="feeling-input-box">
                    <textarea id="feelingInput" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏≤‡∏¢..." class="feeling-textarea"></textarea>
                    <button onclick="saveFeelings()" class="save-btn">
                        <i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                    </button>
                </div>
                <div class="feelings-list" id="feelingsList"></div>
            </div>
        </div>
    </section>

    <!-- Missing You Section -->
    <section id="missing" class="section">
        <div class="container">
            <div class="missing-container">
                <div class="section-header">
                    <h2><i class="fas fa-paper-plane"></i> ‡∏™‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á</h2>
                </div>
                <div class="missing-input-box">
                    <textarea id="missingInput" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á..." class="missing-textarea"></textarea>
                    <button onclick="sendMissing()" class="send-missing-btn">
                        <i class="fas fa-heart"></i> ‡∏™‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á
                    </button>
                </div>
                <div class="missing-list" id="missingList"></div>
            </div>
        </div>
    </section>

    <!-- Notes Section -->
    <section id="notes" class="section">
        <div class="container">
            <div class="notes-container">
                <div class="section-header">
                    <h2><i class="fas fa-sticky-note"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏ô‡πâ‡∏ï</h2>
                    <button onclick="createNote()" class="create-note-btn">
                        <i class="fas fa-plus"></i> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ô‡πâ‡∏ï‡πÉ‡∏´‡∏°‡πà
                    </button>
                </div>
                <div class="notes-grid" id="notesGrid"></div>
            </div>
        </div>
    </section>

    <!-- Period Tracker & Calendar Section -->
    <section id="period" class="section">
        <div class="container">
            <div class="calendar-container">
                <div class="section-header">
                    <h2><i class="fas fa-calendar-alt"></i> ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å‡πÑ‡∏Ç‡πà</h2>
                </div>
                
                <!-- Period Input -->
                <div class="period-input-box">
                    <label>‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏°‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î:</label>
                    <input type="date" id="lastPeriodDate" class="date-input">
                    <label>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡πÄ‡∏°‡∏ô (‡∏ß‡∏±‡∏ô):</label>
                    <input type="number" id="cycleLength" value="28" min="21" max="35" class="cycle-input">
                    <button onclick="calculatePeriod()" class="calculate-btn">
                        <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô
                    </button>
                </div>

                <!-- Calendar Legend -->
                <div class="calendar-legend">
                    <div class="legend-item">
                        <span class="legend-color period-day"></span>
                        <span>‡∏ß‡∏±‡∏ô‡πÄ‡∏°‡∏ô</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color ovulation-day"></span>
                        <span>‡∏ß‡∏±‡∏ô‡∏ï‡∏Å‡πÑ‡∏Ç‡πà</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color fertile-day"></span>
                        <span>‡∏ä‡πà‡∏ß‡∏á‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏£‡∏†‡πå</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color anniversary-day"></span>
                        <span>‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö (‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2)</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color has-note"></span>
                        <span>‡∏°‡∏µ‡πÇ‡∏ô‡πâ‡∏ï</span>
                    </div>
                </div>

                <!-- Calendar Navigation -->
                <div class="calendar-nav">
                    <button onclick="previousMonth()" class="nav-month-btn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <h3 id="currentMonthYear"></h3>
                    <button onclick="nextMonth()" class="nav-month-btn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>

                <!-- Calendar Grid -->
                <div class="calendar-grid">
                    <div class="calendar-weekdays">
                        <div class="weekday">‡∏≠‡∏≤</div>
                        <div class="weekday">‡∏à</div>
                        <div class="weekday">‡∏≠</div>
                        <div class="weekday">‡∏û</div>
                        <div class="weekday">‡∏û‡∏§</div>
                        <div class="weekday">‡∏®</div>
                        <div class="weekday">‡∏™</div>
                    </div>
                    <div class="calendar-days" id="calendarDays"></div>
                </div>

                <!-- Period Result Info -->
                <div class="period-result" id="periodResult"></div>
            </div>
        </div>
    </section>

    <!-- Day Note Modal -->
    <div id="dayNoteModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeDayNoteModal()">&times;</span>
            <h3 id="modalDate"></h3>
            <div class="modal-note-section">
                <h4>‡πÇ‡∏ô‡πâ‡∏ï‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ:</h4>
                <div id="dayNotesList"></div>
                <textarea id="newDayNote" placeholder="‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏ô‡πâ‡∏ï‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ..." rows="3"></textarea>
                <button onclick="saveDayNote()" class="save-note-btn">
                    <i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏ô‡πâ‡∏ï
                </button>
            </div>
        </div>
    </div>

    <!-- Settings Section -->
    <section id="settings" class="section">
        <div class="container">
            <div class="settings-container">
                <div class="section-header">
                    <h2><i class="fas fa-cog"></i> ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</h2>
                </div>
                <div class="settings-box">
                    <h3>‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</h3>
                    <div class="password-change">
                        <input type="password" id="currentPassword" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô" class="password-input">
                        <input type="password" id="newPassword" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà" class="password-input">
                        <input type="password" id="confirmPassword" placeholder="‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà" class="password-input">
                        <button onclick="changePassword()" class="change-password-btn">
                            <i class="fas fa-key"></i> ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getDatabase, ref, set, push, onValue, update, remove } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';
        
        // Firebase Configuration - ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢ config ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
        const firebaseConfig = {
    apiKey: "AIzaSyDAA6qrKzolYGc_fwjb37fqMq-ETpaxmiI",
    authDomain: "savezone-bad79.firebaseapp.com",
    databaseURL: "https://savezone-bad79-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "savezone-bad79",
    storageBucket: "savezone-bad79.firebasestorage.app",
    messagingSenderId: "211601887525",
    appId: "1:211601887525:web:8f3267173b4d3211e9cacc",
    measurementId: "G-PJ31C5D5CR"
  };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        
        window.db = database;
        window.dbRef = ref;
        window.dbSet = set;
        window.dbPush = push;
        window.dbOnValue = onValue;
        window.dbUpdate = update;
        window.dbRemove = remove;
    </script>
    
    <script src="app.js"></script>
</body>
</html>
